!function(){"use strict";!function(e){const t=s("html,body,base,head,link,meta,style,title,address,article,aside,footer,header,h1,h2,h3,h4,h5,h6,hgroup,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,rtc,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,menuitem,summary,content,element,shadow,template,blockquote,iframe,tfoot"),n=s("svg,animate,circle,clippath,cursor,image,defs,desc,ellipse,filter,font-faceforeignobject,g,glyph,line,marker,mask,missing-glyph,path,pattern,polygon,polyline,rect,switch,symbol,text,textpath,tspan,use,view,feBlend,feColorMatrix,feComponentTransfer,feComposite,feConvolveMatrix,feDiffuseLighting,feDisplacementMap,feFlood,feGaussianBlur,feImage,feMerge,feMorphology,feOffset,feSpecularLighting,feTile,feTurbulence,feDistantLight,fePointLight,feSpotLight,linearGradient,stop,radialGradient,animateTransform,animateMotion");function r(e){return":"===e.charAt(5)&&"xlink"===e.slice(0,5)}function o(e){return-1!==["object","array","function","regexp","date","math"].indexOf(l(e))}function l(e){return Object.prototype.toString.call(e).match(/\[object (.+?)\]/)[1].toLowerCase()}const i=s("function,regexp,date,math,undefined,null,boolean,string,number,symbol,bigInt");function s(e){const t=Object.create(null),n=e.split(",");for(let e=0;e<n.length;e++)t[n[e]]=!0;return function(e){return t[e]}}function c(e){if(e.hasOwnProperty("tag")&&e.hasOwnProperty("props")&&e.hasOwnProperty("children"))return!0}function a(e){if("array"===l(e)){for(let t=0;t<e.length;t++)if(c(e[t]))return!0}else if("object"===l(e))return c(e)}function u(e,t){if(!b(e)||!b(t))return e===t;if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(const n in e)if(!u(e[n],t[n]))return!1;return!0}const p={svg:"http://www.w3.org/2000/svg",math:"http://www.w3.org/1998/Math/MathML"},f="http://www.w3.org/1999/xlink";function h(e,t){for(let n in t)e.style[n]=t[n]}function d(e,t,n){var o;if(r(t)?e.removeAttributeNS(f,r(o=t)?o.slice(6,o.length):""):e.removeAttribute(t),t.startsWith("on")){const r=t.split("on")[1][0].toLowerCase()+t.split("on")[1].substring(1);e.removeEventListener(r,n[t])}}function g(e){return t(e)?document.createElement(e):n(e)?(r=function(e){return n(e)?"svg":"math"===e?"math":void 0}(e),o=e,document.createElementNS(p[r],o)):"fragment"===e||"component"===e?document.createDocumentFragment():"comment"===e||"null"===e?document.createComment(e):"textnode"===e?document.createTextNode(""):void 0;var r,o}function m(e){return e.tag?e:function(e){return{tag:"fragment",props:null,children:e}}(e)}const b=e=>("object"==typeof e||"function"==typeof e)&&null!==e,y=Object.create(null),w=new WeakMap,v=["$key","$name","$props"];let O="";const j=Object.create(null);let x=function e(t={}){if("object"!=typeof t||null===t)return t;const n={get(t,n,r){if(Reflect.ownKeys(t).includes(n)){const o=Reflect.get(t,n,r);return e(o)}},set:(e,t,n,r)=>n===e[t]||(Reflect.ownKeys(e).includes(t)||Object.keys(y).includes(t)?Reflect.set(e,t,n,r):void 0),deleteProperty:(e,t)=>Reflect.deleteProperty(e,t)};return new Proxy(t,n)}(Object.create(null));function M(e,t,n){if(e.tag){const o=g(e.tag);if(e.props){!function(e,t){for(let n=0;n<Object.keys(t).length;n++){const r=Object.keys(t)[n].toString();if(r.startsWith("on")){const n=r.split("on")[1][0].toLowerCase()+r.split("on")[1].substring(1);e.addEventListener(n,t[r])}}}(o,e.props),e.props.hasOwnProperty(v[0])&&(e.el=o,"string"===l(e.props[v[0]])&&(j[e.props[v[0]]]=o)),e.props.hasOwnProperty(v[1])&&(y[e.props[v[1]]]=Object.create(null),w.set(y[e.props[v[1]]],e.children[0])),e.props.hasOwnProperty(v[1])&&e.props.hasOwnProperty(v[2])&&(x[e.props[v[1]]]=e.props[v[2]]);for(const i in e.props)e.props.hasOwnProperty(i)&&("function"!==l(e.props[i])&&(r(i)?o.setAttributeNS(f,i,e.props[i]):v.includes(i)||o.setAttribute(i,e.props[i])),"object"===l(e.props[i])&&h(o,e.props[i]))}if(e.children){function s(){"array"===l(e.children[0])?e.children[0].forEach((e=>{c(e)&&M(e,o)})):"array"===l(e.children)&&e.children.forEach((e=>{c(e)&&M(e,o)}))}P(e.children,o,s)}n?t.insertBefore(o,n):t.appendChild(o)}}function k(e,t,n){const o=e.props||{};if(o.hasOwnProperty(v[0])&&e.tag!==t.tag){const i=e.el.parentNode,s=e.el.nextSibling;i.removeChild(e.el),M(t,i,s)}else{let c=null;if(o.hasOwnProperty(v[0])){const b=t.props||{};c=t.el=e.el;for(const y in b){let[w,O]=[b[y],o[y]];if(w!==O)if(null!==w)if("function"===l(w)||v.includes(y)){if(y.startsWith("on")){const j=y.split("on")[1][0].toLowerCase()+y.split("on")[1].substring(1);c.addEventListener(j,w,!1)}}else c[y]&&(c[y]=w),r(y)?c.setAttributeNS(f,y,w):c.setAttribute(y,w),"object"===l(w)&&h(c,w);else d(c,y,o)}for(const x in o)x in b||d(c,x,o)}const a=e.children[0],p=t.children[0],g=e.children,m=t.children;if(!u(g,m)){function k(){"array"!==l(a)&&"array"===l(p)?(c.innerHTML="",p.forEach((e=>M(e,c)))):"array"===l(a)&&"array"===l(p)?S(a,p,c,n):S(g,m,c,n)}P(m,c,k)}}}function S(e,t,n,r){if("useFirstKey"===r)for(let o=1;o<=Math.max(e.length,t.length);o++)e[e.length-o]?t[t.length-o]?k(e[e.length-o],t[t.length-o],r):n.removeChild(e[e.length-o].el):M(t[t.length-o],e[e.length-1].el.parentNode,e[0].el);else{for(let n=0;n<Math.min(e.length,t.length);n++)k(e[n],t[n],r);t.length>e.length?t.slice(e.length).forEach((e=>M(e,n))):e.length>t.length&&e.slice(t.length).forEach((e=>{n.removeChild(e.el)}))}}function P(e,t,n){1!==e.length||o(e[0])?e.length>1&&!a(e)?t&&C(e.join().replace(/,/g,""),t):!o(e[0])||e[0].tag||a(e[0])?n():t&&C(e[0],t):t&&C(e,t)}function C(e,t){o(e)?"function"===l(e)||"regexp"===l(e)||"array"===l(e)?t.textContent=String(e):t.textContent=JSON.stringify(e,null,2):t.textContent=e?e.toString():String(e)}let E=null,L=null,T=null;function $(e,t,n,r){if(_.isMounted){const t=m(e);k(_.oldTree,t,n),_.oldTree=t,r&&w.set(y[r],e)}else{const n=m(e);M(n,t),_.oldTree=n,_.isMounted=!0,E&&E()}}const _={_el:null,_template:null,oldTree:null,isMounted:!1,observer:null};function R(e){for(let t=0;t<e.length;t++){const n=e[t];"array"===l(n)&&R(n),""===n?e.splice(t,1,{tag:"comment",children:[],props:null}):i(l(n))?e.splice(t,1,{tag:"textnode",children:[n],props:null}):n.children&&a(n.children)&&R(n.children)}return e}function A(e){return"array"===l(e)?R(e):a(e)&&"object"===l(e)?(e.children=R(e.children),e):{tag:"textnode",children:[e],props:null}}function D(e){if("string"==typeof e){const t=document.querySelector(e);if(!t){let t=null;return e.startsWith("#")?(t=document.createElement("div"),t.setAttribute("id",e.substring(1,e.length))):e.startsWith(".")&&(t=document.createElement("div"),t.setAttribute("class",e.substring(1,e.length))),document.body.insertAdjacentElement("afterbegin",t),t}return t}return e instanceof HTMLElement?e:window.ShadowRoot&&e instanceof window.ShadowRoot&&"closed"===e.mode?(console.warn('[Strve warn]: mounting on a ShadowRoot with `{mode: "closed"}` may lead to unpredictable bugs.'),null):null}let W=function(e,t,n,r){let o;t[0]=0;for(let l=1;l<t.length;l++){let i=t[l++],s=t[l]?(t[0]|=i?1:2,n[t[l++]]):t[++l];void 0===s&&null===s||(3===i?r[0]=s:4===i?r[1]=Object.assign(r[1]||{},s):5===i?(r[1]=r[1]||{})[t[++l]]=s:6===i?r[1][t[++l]]+=s+"":i?(o=e.apply(s,W(e,s,n,["",null])),r.push(o),s[0]?t[0]|=2:(t[l-2]=0,t[l]=o)):r.push(s))}return r},N=new WeakMap;const q=function(e){let t=N.get(this);return t||(t=new WeakMap,N.set(this,t)),(t=W(this,t.get(e)||(t.set(e,t=function(e){let t,n,r,o=1,l="",i="",s=[0],c=0;for(r=function(e){1===o&&(e||(l=l.replace(/^\s*\n\s*|\s*\n\s*$/g,"")))?s.push(0,e,l):3===o&&(e||l)?(s.push(3,e,l),o=2):2===o&&"..."===l&&e?s.push(4,e,0):2===o&&l&&!e?s.push(5,0,!0,l):o>=5&&((l||!e&&5===o)&&(s.push(o,0,l,n),o=6),e&&(s.push(o,e,0,n),o=6)),l=""};c<e.length;c++){c&&(1===o&&r(),r(c));for(let a=0;a<e[c].length;a++)t=e[c][a],1===o?"<"===t?(r(),s=[s],o=3):l+=t:4===o?"--"===l&&">"===t?(o=1,l=""):l=t+l[0]:i?t===i?i="":l+=t:'"'===t||"'"===t?i=t:">"===t?(r(),o=1):o&&("="===t?(o=5,n=l,l=""):"/"===t&&(o<5||">"===e[c][a+1])?(r(),3===o&&(s=s[0]),o=s,(s=s[0]).push(2,0,o),o=0):" "===t||"\t"===t||"\n"===t||"\r"===t?(r(),o=2):l+=t),3===o&&"!--"===l&&(o=4,s=s[0])}return r(),s}(e)),t),arguments,[])).length>1?t:t[0]}.bind((function(e,t,...n){return{tag:e,props:t,children:n}}));e.$clone=function e(t,n=new WeakMap){if(t.constructor===Date)return new Date(t);if(t.constructor===RegExp)return new RegExp(t);if(n.has(t))return n.get(t);const r=Object.getOwnPropertyDescriptors(t),o=Object.create(Object.getPrototypeOf(t),r);n.set(t,o);for(let r of Reflect.ownKeys(t))o[r]=b(t[r])&&"function"!=typeof t[r]?e(t[r],n):t[r];return o},e.$createApp=function(e){return{mount(t){if(D(t)){_._el=D(t),_._template=e;const n=A(e());_._el&&$(n,_._el)}else console.warn("[Strve warn]: There must be a mount element node.")}}},e.$domInfo=j,e.$h=q,e.$nextTick=function(e){T=e},e.$onMounted=function(e){E=e},e.$onUnmounted=function(e){L=e},e.$propsData=x,e.$setData=function(e,t){if("function"===l(e)&&"undefined"!==l(Promise))return Promise.resolve().then((()=>{e()})).then((()=>{if(t&&"useRouter"===t.status)L&&L(),_._el.innerHTML="",L=null,M(_.oldTree=A(_._template()),_._el),E&&E();else if(t&&"function"==typeof t.name){const e=t.name.name,n=t.name();O!==e&&(O=e,_.oldTree=m(w.get(y[e]))),$(n,_._el,t.status,e)}else{const e=t&&t.status?t.status:null;$(A(_._template()),_._el,e)}T&&T()})).catch((e=>console.error(e)))},e.$version="3.2.0",e.$watchDom=function(e,t,n){if(e){const r=document.querySelector(e);return null===_.observer&&(_.observer=new MutationObserver(n)),{start(){_.observer&&_.observer.observe(r,t)},stop(){let e=_.observer.takeRecords();_.observer.disconnect(),"array"===l(e)&&0===e.length&&(_.observer=null)}}}console.error("[Strve warn]: Please check whether the element exists or need to put watchDOMChange on the mount node.")},Object.defineProperty(e,"__esModule",{value:!0})}("undefined"!=typeof window?window:void 0)}();
