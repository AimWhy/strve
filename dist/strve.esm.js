const e=new RegExp("{(.+?)}");function t(e,t){for(let n in t)e.style[n]=t[n]}function n(e,t,n){const o=new CustomEvent(e,t);o&&document.querySelector(n).dispatchEvent(o)}function o(e,t){for(let n=0;n<Object.keys(t).length;n++){const o=Object.keys(t)[n].toString();if(o.startsWith("on")){const n=o.split("on")[1][0].toLowerCase()+o.split("on")[1].substring(1);e.addEventListener(n,t[o],!1)}}}function r({el:e,key:t,oldProps:n}){if(e.removeAttribute(t),t.startsWith("on")){const o=t.split("on")[1][0].toLowerCase()+t.split("on")[1].substring(1);e.removeEventListener(o,n[t],!1)}}function l(t,n,o){if(o&&(t=t.replace(e,o)),e.test(t)){const o=e.exec(t)[1];h._data.hasOwnProperty(o)?l(t,n,h._data[o]):l(t,n,function(e,t){try{return t.split(".").reduce(((e,t)=>e[t]),e)}catch(e){return}}(h._data,o.toString()))}else n.textContent=t.toString()}function s(e,n,r){if(e.type){const i=document.createElement(e.type);if(e.el=i,e.props){o(i,e.props);for(const n in e.props)e.props.hasOwnProperty(n)&&("function"!=typeof e.props[n]&&i.setAttribute(n,e.props[n]),"object"==typeof e.props[n]&&null!==typeof e.props[n]&&t(i,e.props[n]))}e.children&&("string"==typeof e.children[0]||"number"==typeof e.children[0]?l(e.children[0].toString(),i):Array.isArray(e.children[0])?e.children[0].forEach((e=>{s(e,i)})):e.children.forEach((e=>{s(e,i)}))),r?n.insertBefore(i,r):n.appendChild(i)}}function i(e,n,i){!function(e,t){if(e.type!==t.type){const n=e.el.parentNode,o=e.el.nextSibling;n.removeChild(e.el),s(t,n,o)}}(e,n);const p=n.el=e.el,u=e.props||{},h=n.props||{};o(p,h);for(const e in h){let[n,o]=[h[e],u[e]];n!==o?null!==n?"function"!=typeof n&&(p[e]&&(p[e]=n),p.setAttribute(e,n)):r({el:p,key:e,oldProps:u}):"object"==typeof n&&null!==typeof n&&t(p,n)}for(const e in u)e in h||r({el:p,key:e,oldProps:u});const[f,a,d,y]=[e.children[0],n.children[0],e.children,n.children];"string"==typeof a||"number"==typeof a?l(a.toString(),p):"string"!=typeof f?Array.isArray(f)&&Array.isArray(a)?c(f,a,p,i):c(d,y,p,i):(p.innerHTML="",y.forEach((e=>s(e,p))))}function c(e,t,n,o){if("useFkey"===o)for(let r=1;r<=Math.max(e.length,t.length);r++)e[e.length-r]?t[t.length-r]?i(e[e.length-r],t[t.length-r],o):n.removeChild(e[e.length-r].el):s(t[t.length-r],e[e.length-1].el.parentNode,e[0].el);else{for(let n=0;n<Math.min(e.length,t.length);n++)i(e[n],t[n]);t.length>e.length?t.slice(e.length).forEach((e=>s(e,n))):e.length>t.length&&e.slice(t.length).forEach((e=>{n.removeChild(e.el)}))}}function p(e,t,n){if(h.isMounted){const t=e;i(h.oldTree,t,n),h.oldTree=t}else s(h.oldTree=e,document.querySelector(t)),h.isMounted=!0}async function u(e,t){"function"==typeof e&&(await e(),"useRouter"===t?(document.querySelector(h._el).innerHTML="",s(h.oldTree=h._template(),document.querySelector(h._el))):p(h._template(),h._el,t))}const h={_el:null,_data:null,_template:null,oldTree:null,isMounted:!1};function f(e,t){[h._el,h._data,h._template]=[e,t.data,t.template],p(t.template(),e)}let a=function(e,t,n,o){let r;t[0]=0;for(let l=1;l<t.length;l++){let s=t[l++],i=t[l]?(t[0]|=s?1:2,n[t[l++]]):t[++l];void 0===i&&null===i||(3===s?o[0]=i:4===s?o[1]=Object.assign(o[1]||{},i):5===s?(o[1]=o[1]||{})[t[++l]]=i:6===s?o[1][t[++l]]+=i+"":s?(r=e.apply(i,a(e,i,n,["",null])),o.push(r),i[0]?t[0]|=2:(t[l-2]=0,t[l]=r)):o.push(i))}return o},d=new Map;const y=function(e){let t=d.get(this);return t||(t=new Map,d.set(this,t)),(t=a(this,t.get(e)||(t.set(e,t=function(e){let t,n,o,r=1,l="",s="",i=[0],c=0;for(o=function(e){1===r&&(e||(l=l.replace(/^\s*\n\s*|\s*\n\s*$/g,"")))?i.push(0,e,l):3===r&&(e||l)?(i.push(3,e,l),r=2):2===r&&"..."===l&&e?i.push(4,e,0):2===r&&l&&!e?i.push(5,0,!0,l):r>=5&&((l||!e&&5===r)&&(i.push(r,0,l,n),r=6),e&&(i.push(r,e,0,n),r=6)),l=""};c<e.length;c++){c&&(1===r&&o(),o(c));for(let p=0;p<e[c].length;p++)t=e[c][p],1===r?"<"===t?(o(),i=[i],r=3):l+=t:4===r?"--"===l&&">"===t?(r=1,l=""):l=t+l[0]:s?t===s?s="":l+=t:'"'===t||"'"===t?s=t:">"===t?(o(),r=1):r&&("="===t?(r=5,n=l,l=""):"/"===t&&(r<5||">"===e[c][p+1])?(o(),3===r&&(i=i[0]),r=i,(i=i[0]).push(2,0,r),r=0):" "===t||"\t"===t||"\n"===t||"\r"===t?(o(),r=2):l+=t),3===r&&"!--"===l&&(r=4,i=i[0])}return o(),i}(e)),t),arguments,[])).length>1?t:t[0]}.bind((function(e,t,...n){return{type:e,props:t,children:n}}));export{f as Strve,n as emitEvent,y as render,u as updateView};
